{"version":3,"sources":["hoc/withAuthRedirect.js","components/Profile/Myposts/Myposts.module.css","components/Profile/Myposts/Post/Post.module.css","components/Profile/Profile.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/Myposts/Post/Post.jsx","components/Profile/Myposts/Myposts.jsx","components/Profile/Myposts/mypostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/profileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","Post","className","classes","item","alt","src","message","likesCount","maxLength10","maxLengthCreator","AddPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","name","placeholder","validate","required","window","MyPosts","memo","postsElements","posts","reverse","map","p","post","newpost","values","addPost","newPostBody","myposts","MyPostsContainer","profilePage","newPostText","dispatch","addPostActionCreator","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","onBlur","updateStatus","autoFocus","ProfileInfo","profile","description","profileInf","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","contacts","github","vk","instagram","facebook","photos","large","Profile","backgroundBlock","ProfileContainer","userId","match","params","authorizedUserId","history","push","getUserProfile","getStatus","compose","withRouter"],"mappings":"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","file":"static/js/3.8eefe129.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n\tisAuth: state.auth.isAuth\r\n});\r\nexport const withAuthRedirect = (Component) => {\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif (!this.props.isAuth) return <Redirect to='/Login' />\r\n\t\t\t\r\n\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\t\r\n\tlet ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\treturn ConnectedAuthRedirectComponent;\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Myposts_post__25rXP\",\"myposts\":\"Myposts_myposts__3fmiZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__V1oV6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"Profile_description__I5HFT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"ProfileInfo_description__2j9jI\",\"profileInf\":\"ProfileInfo_profileInf__3MrON\",\"backgroundBlock\":\"ProfileInfo_backgroundBlock__1oEPT\"};","import React from 'react';\r\nimport classes from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n\r\n  return (\r\n    <div>\r\n      <div className={classes.item}>\r\n        <img alt=\"avatar\" src=\"https://miro.medium.com/max/600/0*eIutoeUo8rPA13e0.jpg\" />\r\n        <div>\r\n        {props.message}\r\n        </div>\r\n        {props.likesCount} Likes\r\n\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n}\r\nexport default Post;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport classes from './Myposts.module.css';\r\nimport Post from './Post/Post';\r\nimport { required, maxLengthCreator } from '../../../utils/validators/validators'\r\nimport { Textarea } from '../../common/formsControls/formsControls';\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\nconst AddPostForm = (props) => {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<Field component={Textarea} name=\"newPostBody\" placeholder=\"enter your post\" validate={[required, maxLength10]} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button>Add post</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst AddPostFormRedux = reduxForm({ form: 'AddNewPostForm' })(AddPostForm);\r\n\r\nwindow.props = [];\r\nconst MyPosts = React.memo(props => {\r\n\r\n\tlet postsElements = [...props.posts]\r\n\t\t.reverse()\r\n\t\t.map(p => <Post message={p.message} likesCount={p.likesCount} />);\r\n\r\n\tconst addNewPost = values => {\r\n\t\tprops.addPost(values.newPostBody);\r\n\t};\r\n\r\n\treturn <div className={classes.post}>\r\n\t\t<div className={classes.newpost}>\r\n\t\t\t<AddPostFormRedux onSubmit={addNewPost} />\r\n\t\t</div>\r\n\t\t<div className={classes.myposts}>\r\n\t\t\t{postsElements}\r\n\t\t</div>\r\n\t</div>;\r\n});\r\n\r\n\r\n\r\n\r\n\r\nexport default MyPosts;","\r\nimport { connect } from 'react-redux';\r\nimport { addPostActionCreator } from '../../../redux/profileReducer';\r\nimport MyPosts from './Myposts';\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText,\r\n  }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return{\r\n    addPost: (newPostBody) => {\r\n      dispatch(addPostActionCreator(newPostBody))\r\n    }\r\n  }\r\n}\r\nconst MyPostsContainer = connect(mapStateToProps,mapDispatchToProps)(MyPosts);\r\nexport default MyPostsContainer;","import React, { useEffect, useState } from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n\tlet [editMode, setEditMode] = useState(false);\r\n\tlet [status, setStatus] = useState(props.status);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetStatus(props.status)\r\n\t}, [props.status]);\r\n\r\n\tconst activateEditMode = () => {\r\n\t\tsetEditMode(true);\r\n\t}\r\n\tconst deactivateEditMode = () => {\r\n\t\tsetEditMode(false);\r\n\t\tprops.updateStatus(status);\r\n\t}\r\n\tconst onStatusChange = (e) => {\r\n\t\tsetStatus(e.currentTarget.value); \r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{!editMode &&\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span onDoubleClick={activateEditMode}>{props.status || \"no status\"}</span>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t{editMode &&\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true} value={status} />\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>)\r\n}\r\n\t\t\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport Preloader from '../../common/preloader/preloader';\r\nimport classes from './ProfileInfo.module.css';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\n\r\nconst ProfileInfo = ({profile, updateStatus, status}) => {\r\n\t\r\n\tif (!profile) {\r\n\t\treturn <Preloader />\r\n\t}\r\n\treturn (\r\n\t\t<div className={classes.description}>\r\n\t\t\t<div className={classes.profileInf}>\r\n\t\t\t\t<h1>{profile.fullName}</h1>\r\n\t\t\t\t<ProfileStatusWithHooks \r\n\t\t\t\t\tstatus={status}\r\n\t\t\t\t\tupdateStatus={updateStatus} />\r\n\t\t\t\t<h3>About me: {profile.aboutMe}</h3>\r\n\t\t\t\t<h3>{profile.lookingForAJob === true ? profile.lookingForAJobDescription : null}</h3>\r\n\t\t\t\t<h3>\r\n\t\t\t\t\t<ul>{profile.contacts.github}</ul>\r\n\t\t\t\t\t<ul>{profile.contacts.vk}</ul>\r\n\t\t\t\t\t<ul>{profile.contacts.instagram}</ul>\r\n\t\t\t\t\t<ul>{profile.contacts.facebook}</ul>\r\n\t\t\t\t</h3>\r\n\t\t\t</div>\r\n\t\t\t<img alt=\"img\" src={profile.photos.large} />\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default ProfileInfo;","import React from 'react';\r\nimport MyPostsContainer from './Myposts/mypostsContainer';\r\nimport classes from './Profile.module.css';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nconst Profile = (props) => {\r\n\t\r\n\treturn (\r\n\t\t\r\n\t\t<div className={classes.backgroundBlock}>\r\n\t\t\t<ProfileInfo\r\n\t\t\t\tprofile={props.profile}\r\n\t\t\t\tstatus={props.status}\r\n\t\t\t\tupdateStatus={props.updateStatus} />\r\n\t\t\t<MyPostsContainer />\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Profile;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { getStatus, getUserProfile, updateStatus } from '../../redux/profileReducer';\r\nimport Profile from './Profile';\r\n\r\nclass ProfileContainer extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tlet userId = this.props.match.params.userId;\r\n\t\tif (!userId) {\r\n\t\t\tuserId = this.props.authorizedUserId;\r\n\t\t\tif (!userId) {\r\n\t\t\t\tthis.props.history.push(\"/Login\");\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.props.getUserProfile(userId);\r\n\t\tthis.props.getStatus(userId);\r\n\t}\r\n\trender() {\r\n\t\t//console.log(\"render profile\")\r\n\t\treturn (\r\n\t\t\t<Profile {...this.props} \r\n\t\t\tprofile={this.props.profile} \r\n\t\t\tstatus={this.props.status}\r\n\t\t\tupdateStatus={this.props.updateStatus} />\r\n\t\t)\r\n\t}\r\n}\r\nlet mapStateToProps = (state) => {\r\n\t//console.log('mapStateToProps Profile')\r\n\treturn ({\r\n\t\tprofile: state.profilePage.profile,\r\n\t\tstatus: state.profilePage.status,\r\n\t\tauthorizedUserId: state.auth.userId,\r\n\t\tisAuth: state.auth.isAuth\r\n\t})\r\n\t\r\n};\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, { getUserProfile, getStatus, updateStatus }),\r\n\twithRouter,\r\n\twithAuthRedirect\r\n)(ProfileContainer);"],"sourceRoot":""}