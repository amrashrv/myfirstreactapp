{"version":3,"sources":["utils/validators/validators.ts","components/common/paginator/paginator.module.css","api/profileAPI.ts","redux/profileReducer.ts","assets/images/images.png","redux/dialogsReducer.tsx","api/chat.ts","redux/chatReducer.ts","components/common/preloader/preloader.module.css","components/Users/Users.module.css","api/api.ts","api/securityAPI.ts","api/authAPI.ts","redux/authReducer.ts","components/Login/Login.tsx","components/Music/Music.jsx","components/News/News.jsx","components/Settings/Settings.jsx","redux/usersSelectors.ts","api/usersAPI.ts","utils/objectHelpers.ts","redux/usersReducer.ts","components/common/paginator/usersPaginator.tsx","components/Users/User.tsx","components/Users/UsersSearchForm.tsx","components/Users/Users.tsx","components/Users/UsersContainer.tsx","hoc/withSuspense.tsx","redux/appReducer.ts","redux/sidebarReducer.ts","redux/reduxStore.ts","redux/authSelectors.ts","components/Header/Header.tsx","App.tsx","reportWebVitals.js","index.tsx","components/common/formsControls/formsControls.tsx","assets/images/preloader.svg","components/common/preloader/preloader.tsx","components/common/formsControls/formsControls.module.css"],"names":["required","value","maxLengthCreator","maxLength","length","module","exports","profileAPI","userId","instance","get","then","res","data","status","put","profile","photoFile","formData","FormData","append","headers","initialState","posts","id","message","likesCount","actions","addPostActionCreator","newPostBody","type","deletePost","postId","setUserProfile","setStatus","setPhoto","photos","getUserProfile","dispatch","a","getStatus","updateStatus","resultCode","alert","savePhoto","file","saveProfile","getState","auth","Error","stopSubmit","_error","messages","Promise","reject","profileReducer","state","action","newPost","filter","p","dialogs","name","sendMessage","newMessageBody","dialogsReducer","body","ws","subscribers","closeHandler","setTimeout","createChannel","onMessageHandler","e","newMessages","JSON","parse","forEach","s","removeEventListener","close","WebSocket","addEventListener","chatAPI","callback","push","send","payload","_newMessageHandler","newMessageHandlerCreator","startMessagesListening","stopMessagesListening","chatReducer","ResultCodeEnum","ResultCodeForCaptchaEnum","axios","create","withCredentials","baseURL","securityAPI","authAPI","email","password","rememberMe","captcha","post","delete","login","isAuth","captchaUrl","getAuthUserData","authData","success","getCaptchaUrl","url","authReducer","usrId","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","Input","undefined","alt","src","className","classes","formSummaryError","Login","props","useSelector","useDispatch","to","loginData","captchaIsRequired","Music","News","Settings","getUsers","createSelector","usersPage","users","u","getPageSize","pageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","currentPage","getIsFetching","isFetching","getFollowingInProgress","followingInProgress","getUsersFilter","usersAPI","requestUsers","term","friend","follow","unfollow","updateObjectInArray","items","itemId","objPropName","newObjProps","map","count","page","totalCount","usersReducer","followed","Paginator","totalItemsCount","onPageChanged","x","portionSize","pagesCount","Math","ceil","pages","i","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","classNames","paginator","onClick","selectedPage","pageNumber","User","user","photo","small","userPhoto","disabled","some","usersSearchFormValidate","values","UsersSearchForm","React","memo","enableReinitialize","initialValues","String","validate","setSubmitting","onFilterChanged","isSubmitting","as","Users","history","useHistory","useEffect","parsed","queryString","location","search","substr","actualPage","actualFilter","Number","query","pathname","UsersPage","pageTitle","withSuspense","WrappedComponent","fallback","initialized","appReducer","sidebarReducer","rootReducer","combineReducers","dialogsPage","profilePage","sidebar","formReducer","app","chat","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","selectIsAuth","selectCurrentLogin","AppHeader","Header","Layout","span","theme","mode","defaultSelectedKeys","Item","style","backgroundColor","icon","UserOutlined","DialogsContainer","lazy","ProfileContainer","ChatPage","Sider","Content","SuspendedDialogs","SuspendedChatPage","App","catchAllUnhandledErrors","collapsed","toggle","setState","this","initializeApp","width","defaultOpenKeys","height","borderRight","title","LaptopOutlined","NotificationOutlined","padding","margin","minHeight","exact","path","render","component","Component","AppContainer","withRouter","connect","promise","all","SamuraiJSApp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","FormControl","meta","touched","children","hasError","formControl","Textarea","input","restProps","placeholder","text","Preloader","preloader"],"mappings":"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","file":"static/js/main.57fe9293.chunk.js","sourcesContent":["export type FieldValidateType = (value: string) => string | undefined\r\n\r\nexport const required: FieldValidateType = value => {\r\n    if (value) {\r\n        return undefined;\r\n    }\r\n    return \"Field is required\";\r\n}\r\nexport const maxLengthCreator = (maxLength: number): FieldValidateType => value => {\r\n    if (value && value.length > maxLength) {\r\n        return `max length should be less than ${maxLength} simbols`;\r\n    }\r\n    return undefined;\r\n}\r\n// export const minLength4 = value => {\r\n//     if (value && value.length < 4){\r\n//         return \"min length should be more than 4 simbols\";\r\n//     }\r\n//     return undefined;\r\n// }","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageNumber\":\"paginator_pageNumber__3_IyQ\",\"selectedPage\":\"paginator_selectedPage__1i6Mu\",\"paginator\":\"paginator_paginator__2gqzy\"};","import { photosType, profileType } from \"../types/types\";\r\nimport { instance, responseType } from \"./api\";\r\n\r\ntype savePhotoResponseDataType = {\r\n    photos: photosType\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number) {\r\n        return instance.get<profileType>(`profile/` + userId).then(res => res.data);\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get<string>(`profile/status/` + userId).then(res => res.data);\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put<responseType>(`profile/status`, { status: status }).then(res => res.data);\r\n    },\r\n    saveProfile(profile: profileType) {\r\n        return instance.put<responseType>(`profile`, profile).then(res => res.data);\r\n    },\r\n    savePhoto(photoFile: File) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put<responseType<savePhotoResponseDataType>>(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(res => res.data);\r\n    }\r\n};\r\n","import { FormAction, stopSubmit } from \"redux-form\";\r\nimport { profileAPI } from \"../api/profileAPI\";\r\nimport { photosType, postsType, profileType } from \"../types/types\";\r\nimport { BaseThunkType, InferActionsType } from \"./reduxStore\";\r\n\r\nlet initialState = {//default object\r\n    posts: [\r\n        { id: 1, message: \"First Post\", likesCount: 5 },\r\n        { id: 2, message: \"Second Post\", likesCount: 105 },\r\n        { id: 3, message: \"Third post\", likesCount: 26 }\r\n    ] as Array<postsType>,\r\n    profile: null as profileType | null,\r\n    status: \"\",\r\n};\r\nconst profileReducer = (state = initialState, action: any): initialStateType => {\r\n    switch (action.type) {\r\n        case 'sn/profile/Add-post': {\r\n            let newPost = {\r\n                id: 4,\r\n                message: action.newPostBody,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            }\r\n        }\r\n        case 'sn/profile/DELETE-POST': {\r\n            return { ...state, posts: state.posts.filter(p => p.id !== action.postId) }\r\n        }\r\n        case 'sn/profile/SET-USER-PROFILE': {\r\n            return { ...state, profile: action.profile }\r\n        }\r\n        case 'sn/profile/SET-STATUS': {\r\n            return { ...state, status: action.status }\r\n        }\r\n        case 'SET-PHOTO': {\r\n            return {...state, profile: {...state.profile, photos: action.photos} as profileType}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const actions = {\r\n    addPostActionCreator: (newPostBody: string) => ({type: 'sn/profile/Add-post', newPostBody} as const ),\r\n    deletePost: (postId: number) => ({type: 'sn/profile/DELETE-POST', postId} as const ),\r\n    setUserProfile: (profile: profileType) => ({type: 'sn/profile/SET-USER-PROFILE',profile} as const ),\r\n    setStatus: (status: string) => ({type: 'sn/profile/SET-STATUS',status} as const ),\r\n    setPhoto: (photos: photosType) => ({type: 'SET-PHOTO', photos} as const ),\r\n}\r\n//Thunk\r\nexport const getUserProfile = (userId: number):ThunkType => async (dispatch) => {\r\n    let data = await profileAPI.getProfile(userId);\r\n    dispatch(actions.setUserProfile(data));\r\n}\r\nexport const getStatus = (status: number):ThunkType => async (dispatch) => {\r\n    let data = await profileAPI.getStatus(status)\r\n    dispatch(actions.setStatus(data));\r\n}\r\nexport const updateStatus = (status: string):ThunkType => async (dispatch) => {\r\n    try{\r\n        let data = await profileAPI.updateStatus(status);\r\n        if (data.resultCode === 0) {\r\n        dispatch(actions.setStatus(status));\r\n    } \r\n    } catch(error){\r\n        alert(\"403\")\r\n    }\r\n}\r\nexport const savePhoto = (file: File):ThunkType => async (dispatch) =>{\r\n    let data = await profileAPI.savePhoto(file)\r\n    if (data.resultCode === 0){\r\n        dispatch(actions.setPhoto(data.data.photos))\r\n    }\r\n}\r\nexport const saveProfile = (profile: profileType):ThunkType => async(dispatch, getState) =>{\r\n    const userId = getState().auth.userId;\r\n    const data = await profileAPI.saveProfile(profile);\r\n    if (data.resultCode === 0) {\r\n        if (userId != null){\r\n            dispatch(getUserProfile(userId))\r\n        } else {\r\n            throw new Error(\"userId can't be null\")\r\n        }\r\n    } else {\r\n        dispatch(stopSubmit(\"edit-profile\", {_error: data.messages[0]}))\r\n        return Promise.reject(data.messages[0]);\r\n    }\r\n}\r\nexport default profileReducer;\r\n// types\r\nexport type initialStateType = typeof initialState;\r\ntype ActionsType = InferActionsType<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsType | FormAction>","export default \"data:image/png;base64,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\"","import { InferActionsType } from \"./reduxStore\";\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: 1, name: \"Andrey\" },\r\n        { id: 2, name: \"Olga\" },\r\n        { id: 3, name: \"Korney\" },\r\n        { id: 4, name: \"Ksenia\" },\r\n        { id: 5, name: \"Dima\" }\r\n    ] as Array<dialogsType>,\r\n    messages: [\r\n        { id: 1, message: \"Hey how are you\" },\r\n        { id: 2, message: \"Im good\" },\r\n        { id: 3, message: \"Cool\" }\r\n    ] as Array<messagesType>,\r\n\r\n}\r\nconst dialogsReducer = (state = initialState, action: ActionsType): initialStateType => {\r\n    switch (action.type) {\r\n        case 'SEND-MESSAGE':{\r\n            let body = action.newMessageBody;\r\n            return {...state,\r\n                messages: [...state.messages, {id: 4, message: body}]\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const actions = {\r\n    sendMessage: (newMessageBody: string) => ({\r\n        type: 'SEND-MESSAGE', newMessageBody\r\n    } as const),\r\n}\r\nexport default dialogsReducer;\r\n\r\n//types\r\ntype dialogsType = {id: number, name: string}\r\ntype messagesType = {id: number, message: string}\r\nexport type initialStateType = typeof initialState;\r\ntype ActionsType = InferActionsType<typeof actions>\r\n","\r\nlet subscribers = [] as SubscriberType[];\r\n\r\nlet ws: WebSocket | null;\r\nconst closeHandler = () => {\r\n    setTimeout(createChannel, 3000);\r\n}\r\nconst  onMessageHandler = (e: MessageEvent) => {\r\n    const newMessages = JSON.parse(e.data);\r\n    subscribers.forEach(s => s(newMessages))\r\n}\r\n\r\nfunction createChannel() {\r\n    ws?.removeEventListener('close', closeHandler);\r\n    ws?.close();\r\n    ws = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx');\r\n    ws.addEventListener('close', closeHandler);\r\n    ws.addEventListener('message', onMessageHandler)\r\n}\r\n\r\nexport const chatAPI = {\r\n    start(){\r\n        createChannel()\r\n    },\r\n    stop(){\r\n        subscribers = []\r\n        ws?.removeEventListener('close', closeHandler)\r\n        ws?.removeEventListener('message', onMessageHandler)\r\n        ws?.close()\r\n    },\r\n    subscribe(callback: SubscriberType) {\r\n        subscribers.push(callback);\r\n        return () => {\r\n            subscribers = subscribers.filter(s => s !== callback)\r\n        }\r\n    },\r\n    unsubscribe(callback: SubscriberType) {\r\n        subscribers = subscribers.filter(s => s !== callback)\r\n    },\r\n    sendMessage(message: string) {\r\n        ws?.send(message)\r\n    }\r\n}\r\n\r\n//types\r\nexport type ChatMessageType = {\r\n    message: string,\r\n    photo: string,\r\n    userId: number,\r\n    userName: string\r\n};\r\n\r\ntype SubscriberType = (messages: ChatMessageType[]) => void;","import { FormAction } from \"redux-form\";\r\nimport { BaseThunkType, InferActionsType } from \"./reduxStore\";\r\nimport { chatAPI, ChatMessageType } from \"../api/chat\";\r\nimport { Dispatch } from \"redux\";\r\n\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n    messages: [] as ChatMessageType[]\r\n};\r\nconst chatReducer = (state = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'samurai-network/messages/MESSAGES_RECIEVED':\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, ...action.payload.messages]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const actions = {\r\n    messagesRecieved: (messages: ChatMessageType[]) => ({ type: 'samurai-network/messages/MESSAGES_RECIEVED', payload: { messages } } as const)\r\n}\r\nlet _newMessageHandler: ((messages: ChatMessageType[]) => void) | null = null;\r\n\r\nconst newMessageHandlerCreator = (dispatch: Dispatch) => {\r\n    if (_newMessageHandler == null) {\r\n        _newMessageHandler = (messages) => {\r\n            dispatch(actions.messagesRecieved(messages))\r\n        }\r\n    }\r\n    return _newMessageHandler\r\n}\r\nexport const startMessagesListening = (): ThunkType => async (dispatch) => {\r\n    chatAPI.start()\r\n    chatAPI.subscribe(newMessageHandlerCreator(dispatch))\r\n}\r\nexport const stopMessagesListening = (): ThunkType => async (dispatch) => {\r\n    chatAPI.unsubscribe(newMessageHandlerCreator(dispatch))\r\n    chatAPI.stop()\r\n}\r\nexport const sendMessage = (message: string): ThunkType => async (dispatch) => {\r\n    chatAPI.sendMessage(message)\r\n}\r\nexport default chatReducer;\r\n\r\n//types\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsType = InferActionsType<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsType | FormAction>","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"preloader_preloader__sUZN3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo\":\"Users_photo__2rVGZ\"};","import axios from \"axios\";\r\nimport { usersType } from \"../types/types\";\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"71a41bf9-b907-497d-96c0-effe78a7b2c0\"\r\n    }\r\n});\r\n\r\nexport enum ResultCodeEnum {\r\n    success = 0,\r\n    error = 1,\r\n}\r\nexport enum ResultCodeForCaptchaEnum {\r\n    captchaIsRequired = 10,\r\n}\r\nexport type LoginResponseDataType = {\r\n\r\n    userId: number,\r\n\r\n}\r\nexport type getHeaderDataType = {\r\n    id: number,\r\n    email: string,\r\n    login: string\r\n}\r\n\r\nexport type getItemsType = {\r\n    items: Array<usersType>\r\n    totalCount: number\r\n    error: string | null\r\n}\r\nexport type responseType< D = {},  RC = ResultCodeEnum> = {\r\n    data: D,\r\n    messages: Array<string>,\r\n    resultCode: RC\r\n}\r\n","import { instance } from \"./api\";\r\n\r\ntype getCaptchaUrlResponseType = {\r\n    url: string\r\n}\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get<getCaptchaUrlResponseType>(`security/get-captcha-url`).then(res => res.data);\r\n    }\r\n};\r\n","import { instance, responseType, getHeaderDataType, LoginResponseDataType, ResultCodeForCaptchaEnum, ResultCodeEnum } from \"./api\";\r\n\r\n\r\nexport const authAPI = {\r\n    getHeader() {\r\n        return instance.get<responseType<getHeaderDataType>>(`auth/me`).then(res => res.data);\r\n    },\r\n    login(email: string, password: string, rememberMe = false, captcha: null | string = null) {\r\n        return instance.post<responseType<LoginResponseDataType, ResultCodeEnum | ResultCodeForCaptchaEnum>>(`auth/login`, { email, password, rememberMe, captcha })\r\n            .then(res => res.data);\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n};\r\n","import { FormAction, stopSubmit } from \"redux-form\";\r\nimport { ResultCodeEnum, ResultCodeForCaptchaEnum } from \"../api/api\";\r\nimport { securityAPI } from \"../api/securityAPI\";\r\nimport { authAPI } from \"../api/authAPI\";\r\nimport { BaseThunkType, InferActionsType } from \"./reduxStore\";\r\n\r\nlet initialState = {\r\n    userId: null as number| null,\r\n    email: null as string| null,\r\n    login: null as string| null,\r\n    isAuth: false as boolean,\r\n    captchaUrl: null as string| null\r\n};\r\nconst authReducer = (state = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'samurai-network/auth/SET-USER-DATA':\r\n        case 'samurai-network/auth/GET_CAPTCHA_URL_SUCCESS':\r\n            return {\r\n                usrId: \"any string\",\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const actions = {\r\n    setAuthUserData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => ({ type: 'samurai-network/auth/SET-USER-DATA', payload: { userId, email, login, isAuth } } as const),\r\n    getCaptchaUrlSuccess: (captchaUrl: string) => ({ type: 'samurai-network/auth/GET_CAPTCHA_URL_SUCCESS', payload: {captchaUrl}} as const),\r\n\r\n}\r\nexport const getAuthUserData = (): ThunkType => async (dispatch) => {\r\n    let authData = await authAPI.getHeader()\r\n    \r\n    if (authData.resultCode === ResultCodeEnum.success) {\r\n        let { id, login, email } = authData.data;\r\n        dispatch(actions.setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\nexport const login = (email: string, password: string , rememberMe: boolean, captcha: string): ThunkType => async (dispatch) => {\r\n    let loginData = await authAPI.login(email, password, rememberMe, captcha)\r\n    if (loginData.resultCode === ResultCodeEnum.success) {\r\n        //success, getAuthData\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (loginData.resultCode === ResultCodeForCaptchaEnum.captchaIsRequired) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        let message = loginData.messages.length > 0 ? loginData.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit(\"login\", { _error: message }));\r\n    }\r\n\r\n}\r\nexport const getCaptchaUrl = ():ThunkType => async (dispatch) => {\r\n    const data = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = data.url;\r\n    dispatch(actions.getCaptchaUrlSuccess(captchaUrl));\r\n}\r\nexport const logout = ():ThunkType => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    }\r\n\r\n}\r\nexport default authReducer;\r\n\r\n//types\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsType = InferActionsType<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsType | FormAction>","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\nimport { InjectedFormProps, reduxForm } from 'redux-form';\r\nimport { login } from '../../redux/authReducer';\r\nimport { appStateType } from '../../redux/reduxStore';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { createField, Input } from '../common/formsControls/formsControls';\r\nimport classes from '../common/formsControls/formsControls.module.css';\r\n\r\ntype LoginFormOwnProps = {\r\n    captchaUrl: string | null\r\n}\r\nexport type LoginFormValuesType = {\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean,\r\n    captcha: string\r\n}\r\nexport type LoginFormValuesKeysType = Extract<keyof LoginFormValuesType, string>\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<LoginFormValuesType, LoginFormOwnProps> & LoginFormOwnProps> = ({ handleSubmit, error, captchaUrl }) => {\r\n    return (\r\n        //e.preventDefault ->\r\n        //get all form data and put them to object ->\r\n        //props.onSubmit(formData)\r\n        <form onSubmit={handleSubmit} >\r\n            {createField<LoginFormValuesKeysType>(\"email\", \"email\", Input, [required])}\r\n            {createField<LoginFormValuesKeysType>(\"password\", \"password\", Input, [required], { type: 'password' })}\r\n            {createField<LoginFormValuesKeysType>(undefined, \"rememberMe\", Input, [], { type: \"checkbox\" }, \"remember me\")}\r\n            {captchaUrl && <img alt=\"captcha\" src={captchaUrl} />}\r\n            {captchaUrl && createField<LoginFormValuesKeysType>(\"symbols from image\", \"captcha\", Input, [required], {})}\r\n            {error && <div className={classes.formSummaryError}>{error}</div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<LoginFormValuesType, LoginFormOwnProps>({ form: 'login' })(LoginForm);\r\n\r\nexport const Login: React.FC = (props) => {\r\n\r\n    const captchaUrl = useSelector((state: appStateType) => state.auth.captchaUrl);\r\n    const isAuth = useSelector((state: appStateType) => state.auth.isAuth);\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    //all values from data\r\n    const onSubmit = (formData: LoginFormValuesType) => {\r\n        dispatch(login(formData.email, formData.password, formData.rememberMe, formData.captcha));\r\n    }\r\n    if (isAuth) {\r\n        return <Redirect to={\"/Profile\"} />\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={captchaUrl} />\r\n        </div>)\r\n}\r\n","import React from 'react';\r\n\r\n\r\nconst Music = (props) =>{\r\n    return (\r\n        <div className=\"\">\r\n            Music\r\n        </div>\r\n    )\r\n}\r\nexport default Music;","import React from 'react';\r\n\r\n\r\nconst News = (props) =>{\r\n    return (\r\n        <div className=\"\">\r\n            Latest News\r\n        </div>\r\n    )\r\n}\r\nexport default News;","import React from 'react';\r\n\r\n\r\nconst Settings = (props) =>{\r\n    return (\r\n        <div className=\"\">\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\nexport default Settings;","import { createSelector } from \"reselect\"\r\nimport { appStateType } from \"./reduxStore\";\r\n\r\nconst getUsersSelector = (state: appStateType) => {\r\n    return state.usersPage.users;\r\n}\r\nexport const getUsers = createSelector(getUsersSelector, (users) =>{\r\n    return users.filter(u => true)\r\n})\r\nexport const getPageSize = (state: appStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount= (state: appStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state: appStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: appStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state: appStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\nexport const getUsersFilter = (state: appStateType) => {\r\n    return state.usersPage.filter;\r\n}\r\n","import { getItemsType, instance, responseType } from \"./api\";\r\n\r\nexport const usersAPI = {\r\n    requestUsers(currentPage = 1, pageSize = 10, term: string = '', friend: null | boolean = null) {\r\n        return instance.get<getItemsType>(`users?page=${currentPage}&count=${pageSize}&term=${term}` + (friend === null? '': `&friend=${friend}`))\r\n            .then(res => res.data)\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post<responseType>(`follow/${userId}`).then(res => res.data);\r\n    },\r\n    unfollow(userId: number) {\r\n        return instance.delete(`follow/${userId}`).then(res => res.data) as Promise<responseType>;\r\n    }\r\n}","export const updateObjectInArray = (items: any, itemId: any, objPropName: any, newObjProps: any) => {\r\n    return items.map((u: any) => {\r\n        if (u[objPropName] === itemId) {\r\n            return { ...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import { Dispatch } from 'redux';\r\nimport { responseType } from '../api/api';\r\nimport { usersAPI } from '../api/usersAPI';\r\nimport { usersType } from '../types/types';\r\nimport { updateObjectInArray } from '../utils/objectHelpers';\r\nimport { appStateType, BaseThunkType, InferActionsType } from './reduxStore';\r\n\r\n\r\nlet initialState = {\r\n    users: [] as Array<usersType>,\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 2,\r\n    isFetching: false,\r\n    followingInProgress: [] as Array<number>, //array of usersId\r\n    filter: {\r\n        term: '',\r\n        friend: null as null | boolean\r\n    }\r\n}\r\n\r\n\r\nexport const usersReducer = (state = initialState, action: ActionsTypes): initialStateType => {\r\n    switch (action.type) {\r\n\r\n        case 'FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", { followed: true })\r\n            }\r\n        case \"UNFOLLOW\":\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", { followed: false })\r\n            }\r\n        case \"SET_USERS\": {\r\n            return { ...state, users: action.users }//!!!!\r\n        }\r\n        case \"SET_CURRENT_PAGE\": {\r\n            return { ...state, currentPage: action.currentPage }\r\n        }\r\n        case \"SET_TOTAL_USERS_COUNT\": {\r\n            return { ...state, totalUsersCount: action.count }\r\n        }\r\n        case \"TOGGLE_IS_FETCHING\": {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n        case \"TOGGLE_FOLLOWING_IN_PROSGRESS\": {\r\n            return {\r\n                ...state, followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        case \"SN/USERS/SET_FILTER\": {\r\n            return {...state, filter: action.payload}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const actions = {\r\n    followSuccess: (userId: number) => ({ type: \"FOLLOW\", userId } as const),\r\n    unfollowSuccess: (userId: number) => ({ type: \"UNFOLLOW\", userId } as const),\r\n    setUsers: (users: Array<usersType>) => ({ type: \"SET_USERS\", users } as const),\r\n    setCurrentPage: (currentPage: number) => ({ type: \"SET_CURRENT_PAGE\", currentPage } as const),\r\n    setTotalUsersCount: (totalUsersCount: number) => ({ type: \"SET_TOTAL_USERS_COUNT\", count: totalUsersCount } as const),\r\n    toggleIsFetching: (isFetching: boolean) => ({ type: \"TOGGLE_IS_FETCHING\", isFetching } as const),\r\n    toggleFollowingProgress: (isFetching: boolean, userId: number) => ({ type: \"TOGGLE_FOLLOWING_IN_PROSGRESS\", isFetching, userId } as const),\r\n    setFilter: (filter: FilterType) => ({ type: \"SN/USERS/SET_FILTER\", payload: filter } as const)\r\n}\r\n\r\n\r\n\r\nexport const requestUsers = (page: number, pageSize: number, filter: FilterType): ThunkType => async (dispatch: DispatchType, getState: GetStateType) => {\r\n    dispatch(actions.toggleIsFetching(true));\r\n    dispatch(actions.setCurrentPage(page));\r\n    dispatch(actions.setFilter(filter))\r\n\r\n    let data = await usersAPI.requestUsers(page, pageSize, filter.term, filter.friend);\r\n    dispatch(actions.toggleIsFetching(false));\r\n    dispatch(actions.setUsers(data.items));\r\n    dispatch(actions.setTotalUsersCount(data.totalCount));\r\n}\r\n// common method for follow and unfollow\r\nconst _followUnfollowFlow = async (\r\n    dispatch: DispatchType, \r\n    userId: number, \r\n    apiMethod: (userId: number) => Promise<responseType>, \r\n    actionCreator: (userId: number) => ActionsTypes) => {\r\n    dispatch(actions.toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId)\r\n    if (response.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(actions.toggleFollowingProgress(false, userId));\r\n}\r\nexport const follow = (userId: number): ThunkType => {\r\n    return async (dispatch) => {\r\n        await _followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), actions.followSuccess);\r\n    }\r\n}\r\nexport const unfollow = (userId: number): ThunkType => {\r\n    return async (dispatch) => {\r\n        await _followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), actions.unfollowSuccess);\r\n    }\r\n}\r\nexport default usersReducer;\r\n\r\n//types\r\nexport type initialStateType = typeof initialState;\r\nexport type FilterType = typeof initialState.filter;\r\ntype ActionsTypes = InferActionsType<typeof actions>\r\ntype GetStateType = () => appStateType;\r\ntype DispatchType = Dispatch<ActionsTypes>;\r\ntype ThunkType = BaseThunkType<ActionsTypes>","import classes from './paginator.module.css';\r\nimport React, { useState } from 'react';\r\nimport classNames from 'classnames';\r\n\r\ntype propsType = {\r\n    totalItemsCount: number,\r\n    pageSize: number,\r\n    currentPage?: number,\r\n    onPageChanged?: (pageNumber: number) => void,\r\n    portionSize?: number\r\n}\r\n\r\nlet Paginator: React.FC<propsType> = ({totalItemsCount, pageSize, currentPage = 1, onPageChanged = x => x, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages: Array<number> = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    //divide into portions\r\n    let portionCount = Math.ceil(pagesCount/portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber + portionSize;\r\n\r\n    \r\n    return (\r\n            <div className={classNames(classes.paginator)}>\r\n                {portionNumber > 1 && \r\n                <button onClick={() => {setPortionNumber(portionNumber - 1)}}>Prev</button>}\r\n                {pages\r\n                    //filter items to the  page size\r\n                    .filter(page => page >= leftPortionPageNumber && page <= rightPortionPageNumber)\r\n                    .map(page => {\r\n                    return (\r\n                        <span className={classNames({[classes.selectedPage] : currentPage === page}, classes.pageNumber)} \r\n                            key={page}\r\n                            onClick={(e) => { onPageChanged(page)}}>{page}</span>\r\n                    );\r\n                })}\r\n                {portionCount > portionNumber &&\r\n                <button onClick={() => {setPortionNumber(portionNumber + 1)}}>Next</button>}\r\n\r\n            </div>\r\n        )\r\n}\r\nexport default Paginator; \r\n","import classes from './Users.module.css';\r\nimport React from 'react';\r\nimport userPhoto from '../../assets/images/images.png';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { usersType } from '../../types/types';\r\n\r\nlet User: React.FC<PropsType> = ({user, followingInProgress, unfollow, follow}) => {\r\n    return (\r\n        <div>\r\n            {\r\n               <div>\r\n                    <span>\r\n                        <div className={classes.photo}>\r\n                            <NavLink to={'/Profile/' + user.id}>\r\n                                <img alt=\"userphoto\" src={user.photos.small !== null ? user.photos.small : userPhoto} />\r\n                            </NavLink>\r\n                        </div>\r\n                        <div>\r\n                            {user.followed\r\n                                ? <button disabled={followingInProgress.some(id => id === user.id)} \r\n                                    onClick={() => {unfollow(user.id)}}>Unfollow</button>\r\n                                : <button disabled={followingInProgress.some(id => id === user.id)} \r\n                                    onClick={() => {follow(user.id)}}>Follow</button>\r\n                            }\r\n                        </div>\r\n                    </span>\r\n                    <span>\r\n                        <span>\r\n                            <div>{user.name}</div>\r\n                            <div>{user.status}</div>\r\n                        </span>\r\n                        <span>\r\n                            <div>{\"user.location.country\"}</div>\r\n                            <div>{\"user.location.city\"}</div>\r\n                        </span>\r\n                    </span>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\nexport default User; \r\n//types \r\ntype PropsType = {\r\n    user: usersType,\r\n    followingInProgress: Array<number>,\r\n    unfollow: (userId: number) => void,\r\n    follow: (userId: number) => void\r\n}","import React from 'react';\r\nimport { Form, Formik, Field } from 'formik';\r\nimport { FilterType } from '../../redux/usersReducer';\r\nimport { useSelector } from 'react-redux';\r\nimport { getUsersFilter } from '../../redux/usersSelectors';\r\n\r\nconst usersSearchFormValidate = (values: any) => {\r\n    const errors = {};\r\n    return errors;\r\n};\r\ntype PropsType = {\r\n    onFilterChanged: (filter: FilterType) => void\r\n}\r\ntype FriendFormType = 'true' | 'false' | 'null';\r\n\r\ntype FormType = {\r\n    term: string,\r\n    friend: FriendFormType\r\n}\r\nexport const UsersSearchForm: React.FC<PropsType> = React.memo((props) => {\r\n    const filter = useSelector(getUsersFilter);\r\n\r\n    const submit = (values: FormType, { setSubmitting }: { setSubmitting: (isSubmitting: boolean) => void; }) => {\r\n        const filter: FilterType = {\r\n            term: values.term,\r\n            friend: values.friend === \"null\" ? null : values.friend === \"true\" ? true : false\r\n        }\r\n        props.onFilterChanged(filter);\r\n        setSubmitting(false);\r\n    };\r\n    return (\r\n        <div>\r\n            <Formik\r\n                enableReinitialize\r\n                initialValues={{ term: filter.term, friend: String(filter.friend) as FriendFormType }}\r\n                validate={usersSearchFormValidate}\r\n                onSubmit={submit}>\r\n                {({ isSubmitting }) => (\r\n                    <Form>\r\n                        <Field type=\"text\" name=\"term\" />\r\n                        <Field name=\"friend\" as=\"select\">\r\n                            <option value=\"null\">all</option>\r\n                            <option value=\"true\">followed</option>\r\n                            <option value=\"false\">unfollowed</option>\r\n                        </Field>\r\n                        <button type=\"submit\" disabled={isSubmitting}>\r\n                            Submit\r\n                        </button>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </div>\r\n    );\r\n});\r\n","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport { FilterType, requestUsers } from '../../redux/usersReducer';\r\nimport { getCurrentPage, getFollowingInProgress, getPageSize, getTotalUsersCount, getUsers, getUsersFilter } from '../../redux/usersSelectors';\r\nimport Paginator from '../common/paginator/usersPaginator';\r\nimport User from './User';\r\nimport { UsersSearchForm } from './UsersSearchForm';\r\nimport * as queryString from 'querystring'\r\ntype PropsType = {\r\n\r\n}\r\ntype QueryParamsType = {\r\n    term?: string;\r\n    page?: string;\r\n    friend?: string;\r\n};\r\n\r\nexport const Users: React.FC<PropsType> = (props) => {\r\n\r\n    const totalUsersCount = useSelector(getTotalUsersCount);\r\n    const currentPage = useSelector(getCurrentPage);\r\n    const pageSize = useSelector(getPageSize);\r\n    const filter = useSelector(getUsersFilter);\r\n    const users = useSelector(getUsers);\r\n    const followingInProgress = useSelector(getFollowingInProgress);\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n   \r\n\r\n    useEffect(() => {\r\n        \r\n        const parsed = queryString.parse(history.location.search.substr(1)) as QueryParamsType;\r\n        let actualPage = currentPage \r\n        let actualFilter = filter\r\n        if (!!parsed.page) actualPage = Number(parsed.page)\r\n        if(!!parsed.term) actualFilter = {...actualFilter, term: parsed.term as string}\r\n        switch(parsed.friend){\r\n            case 'null':\r\n                actualFilter = {...actualFilter, friend: null}\r\n                break;\r\n            case 'true': \r\n                actualFilter = {...actualFilter, friend: true}\r\n                break;\r\n            case 'false': \r\n                actualFilter = {...actualFilter, friend: false}\r\n        }\r\n        dispatch(requestUsers(actualPage, pageSize, actualFilter))\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        const query: QueryParamsType = {}\r\n        if(!!filter.term) query.term = filter.term;\r\n        if(filter.friend !== null) query.friend = String(filter.friend);\r\n        if(currentPage !== 1) query.page = String(currentPage);\r\n\r\n        history.push({\r\n            pathname: '/users',\r\n            search: queryString.stringify(query)\r\n        })\r\n    },[history, filter, currentPage]);\r\n\r\n    const onPageChanged = (pageNumber: number) => {\r\n        dispatch(requestUsers(pageNumber, pageSize, filter));\r\n    }\r\n    const onFilterChanged = (filter: FilterType) => {\r\n        dispatch(requestUsers(1, pageSize, filter))\r\n    }\r\n    const follow = (userId: number) => {\r\n        dispatch(follow(userId));\r\n    }\r\n    const unfollow = (userId: number) => {\r\n        dispatch(unfollow(userId));\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <UsersSearchForm onFilterChanged={onFilterChanged} />\r\n            <Paginator\r\n                currentPage={currentPage}\r\n                onPageChanged={onPageChanged}\r\n                totalItemsCount={totalUsersCount}\r\n                pageSize={pageSize}\r\n            />\r\n            <div>\r\n                {\r\n                    users.map(user => <User\r\n                        key={user.id}\r\n                        user={user}\r\n                        followingInProgress={followingInProgress}\r\n                        follow={follow}\r\n                        unfollow={unfollow}\r\n                    />)\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { getIsFetching } from '../../redux/usersSelectors';\r\nimport Preloader from '../common/preloader/preloader';\r\nimport { Users } from './Users';\r\n\r\ntype UsersPagePropsType = {\r\n\tpageTitle: string;\r\n}\r\nconst UsersPage: React.FC<UsersPagePropsType> = (props) => {\r\n\r\n\tconst isFetching = useSelector(getIsFetching)\r\n\treturn <>\r\n\t\t<h2>{props.pageTitle}</h2>\r\n\t\t{isFetching ? <Preloader/> : null}\r\n\t\t<Users/>\r\n\t\t</>\r\n}\r\nexport default UsersPage","import React, { Suspense } from \"react\";\r\nimport Preloader from \"../components/common/preloader/preloader\";\r\n\r\nexport function withSuspense<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n\treturn (props: WCP) => {\r\n\t\treturn <Suspense fallback={<Preloader />}><WrappedComponent {...props} /></Suspense>\r\n\t}\r\n}","import { getAuthUserData } from \"./authReducer\";\r\nimport { InferActionsType } from \"./reduxStore\";\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n};\r\n\r\nexport type InitailStateType = typeof initialState;\r\ntype actionsType = InferActionsType<typeof actions>;\r\n\r\nconst appReducer = (state = initialState, action: actionsType): InitailStateType => {\r\n    switch (action.type) {\r\n        case 'sn/app/INITIALIZED-SUCCESS':\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const actions = {\r\n    initializedSuccess: () => ({type: 'sn/app/INITIALIZED-SUCCESS'})\r\n}\r\nexport const initializeApp = () => (dispatch: any) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n        dispatch(actions.initializedSuccess());\r\n    });\r\n}\r\n\r\n\r\nexport default appReducer;","\r\nlet initialState = {\r\n//...\r\n}\r\ntype initialStateType = typeof initialState;\r\nexport const sidebarReducer = (state = initialState, action: any): initialStateType =>{\r\n    return state\r\n}\r\n\r\nexport default sidebarReducer;","import { Action, applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport authReducer from \"./authReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport thunkMiddleware, { ThunkAction } from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport appReducer from \"./appReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport chatReducer from \"./chatReducer\";\r\n\r\n\r\n\r\n//combine all reducers into one with the help of Redux.\r\nlet rootReducer = combineReducers({\r\n    dialogsPage: dialogsReducer,\r\n    profilePage: profileReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n    chat: chatReducer\r\n});\r\n\r\n\r\n\r\n//connection to chrome Redux extention\r\n//@ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n//@ts-ignore\r\nwindow.__store__ = store;\r\n//export store to index.js\r\nexport default store;\r\n\r\n//types\r\ntype rootReducerType = typeof rootReducer; //(state: globalstate) => globalstate\r\nexport type appStateType = ReturnType<rootReducerType>\r\n\r\nexport type InferActionsType<T> = T extends {[keys: string]: (...args: any[]) => infer U}? U : never\r\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, appStateType, unknown, A>","import { appStateType } from \"./reduxStore\";\r\n\r\nexport const selectIsAuth = (state: appStateType) => {\r\n    return state.auth.isAuth;\r\n}\r\nexport const selectCurrentLogin = (state: appStateType) => {\r\n    return state.auth.login;\r\n}\r\n","import { Button, Col, Layout, Menu, Row } from 'antd';\r\nimport Avatar from 'antd/lib/avatar/avatar';\r\nimport React from 'react';\r\nimport { Link} from 'react-router-dom';\r\nimport {\r\n    UserOutlined\r\n} from '@ant-design/icons';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { selectCurrentLogin, selectIsAuth } from '../../redux/authSelectors';\r\nimport { logout } from '../../redux/authReducer';\r\n\r\nexport type MapPropsType = {\r\n}\r\n\r\nexport const AppHeader: React.FC<MapPropsType> = (props) => {\r\n    const {Header} = Layout;\r\n    const isAuth = useSelector(selectIsAuth)\r\n    const login = useSelector(selectCurrentLogin)\r\n\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const logoutCallback = () => {\r\n        dispatch(logout())\r\n    }\r\n    return (\r\n        <Header className=\"header\">\r\n            <Row>\r\n                <Col span={18}>\r\n                    <div className=\"logo\" />\r\n                    <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['2']}>\r\n                        <Menu.Item key=\"1\"><Link to=\"/users\">Developers</Link></Menu.Item>\r\n                    </Menu>\r\n                </Col>\r\n                \r\n                    {isAuth\r\n                        ? <><Col span={1}><Avatar alt={login || \"\"} style={{ backgroundColor: '#87d068' }} icon={<UserOutlined />} /></Col>\r\n                         <Col span={5}>\r\n                         <Button onClick={logoutCallback}>Logout</Button></Col>\r\n                         </>\r\n                        : <Col span={6}><Button><Link to={'/login'}>Login</Link></Button></Col>}\r\n                \r\n            </Row>\r\n        </Header>\r\n            );\r\n}\r\n","import React, { Component, ComponentType } from 'react';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { BrowserRouter, Link, Redirect, Route, Switch, withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\nimport './App.css';\r\nimport 'antd/dist/antd.css';\r\nimport Preloader from './components/common/preloader/preloader';\r\nimport { Login } from './components/Login/Login';\r\nimport Music from './components/Music/Music';\r\nimport News from './components/News/News';\r\nimport Settings from './components/Settings/Settings';\r\nimport UsersPage from './components/Users/UsersContainer';\r\nimport { withSuspense } from './hoc/withSuspense';\r\nimport { initializeApp } from './redux/appReducer';\r\nimport store, { appStateType } from './redux/reduxStore';\r\nimport { Breadcrumb, Layout, Menu } from 'antd';\r\nimport {\r\n\tLaptopOutlined,\r\n\tUserOutlined,\r\n\tNotificationOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport { AppHeader } from './components/Header/Header';\r\nimport SubMenu from 'antd/lib/menu/SubMenu';\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/dialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/profileContainer'));\r\nconst ChatPage = React.lazy(() => import('./pages/chat/chatPage'));\r\n\r\nconst { Sider, Content } = Layout;\r\n\r\n\r\nconst SuspendedDialogs = withSuspense(DialogsContainer);\r\nconst SuspendedChatPage = withSuspense(ChatPage)\r\nclass App extends Component<MapPropsType & DispatchPropsType> {\r\n\tcatchAllUnhandledErrors = (e: PromiseRejectionEvent) => {\r\n\t\talert(\"some error occured\");\r\n\t\t//console.error(promiseRejectonEvent)\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tthis.props.initializeApp();\r\n\t\twindow.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)\r\n\t}\r\n\tstate = {\r\n\t\tcollapsed: false,\r\n\t};\r\n\r\n\ttoggle = () => {\r\n\t\tthis.setState({\r\n\t\t\tcollapsed: !this.state.collapsed,\r\n\t\t});\r\n\t}\r\n\trender() {\r\n\t\tif (!this.props.initialized) {\r\n\t\t\treturn <Preloader />\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Layout>\r\n\t\t\t\t<AppHeader/>\r\n\t\t\t\t<Layout>\r\n\t\t\t\t\t<Sider width={200} className=\"site-layout-background\">\r\n\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\tmode=\"inline\"\r\n\t\t\t\t\t\t\tdefaultSelectedKeys={['1']}\r\n\t\t\t\t\t\t\tdefaultOpenKeys={['sub1']}\r\n\t\t\t\t\t\t\tstyle={{ height: '100%', borderRight: 0 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"My Profile\">\r\n\t\t\t\t\t\t\t\t<Menu.Item key=\"1\"><Link to=\"/Profile\">Profile</Link></Menu.Item>\r\n\t\t\t\t\t\t\t\t<Menu.Item key=\"2\"><Link to=\"/Dialogs\">Messages</Link></Menu.Item>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t\t<SubMenu key=\"sub2\" icon={<LaptopOutlined />} title=\"Settings\">\r\n\t\t\t\t\t\t\t\t<Menu.Item key=\"5\">Settings</Menu.Item>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t\t<SubMenu key=\"sub3\" icon={<NotificationOutlined />} title=\"subnav 3\">\r\n\t\t\t\t\t\t\t\t<Menu.Item key=\"9\"><Link to=\"/ChatPage\">Chat</Link></Menu.Item>\r\n\t\t\t\t\t\t\t\t<Menu.Item key=\"10\">option10</Menu.Item>\r\n\t\t\t\t\t\t\t\t<Menu.Item key=\"11\">option11</Menu.Item>\r\n\t\t\t\t\t\t\t\t<Menu.Item key=\"12\">option12</Menu.Item>\r\n\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t</Sider>\r\n\t\t\t\t\t<Layout style={{ padding: '0 24px 24px' }}>\r\n\t\t\t\t\t\t<Breadcrumb style={{ margin: '16px 0' }}>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item>Home</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item>List</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item>App</Breadcrumb.Item>\r\n\t\t\t\t\t\t</Breadcrumb>\r\n\t\t\t\t\t\t<Content\r\n\t\t\t\t\t\t\tclassName=\"site-layout-background\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tpadding: 24,\r\n\t\t\t\t\t\t\t\tmargin: 0,\r\n\t\t\t\t\t\t\t\tminHeight: 280,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t<Route exact path=\"/\" render={() => <Redirect to={'/Profile'} />} />\r\n\t\t\t\t\t\t\t\t<Route path=\"/Dialogs\" render={() => <SuspendedDialogs />} />\r\n\t\t\t\t\t\t\t\t<Route path=\"/Profile/:userId?\" component={withSuspense(ProfileContainer)} />\r\n\t\t\t\t\t\t\t\t<Route path=\"/Users\" render={() => <UsersPage pageTitle={'Samurai'} />} />\r\n\t\t\t\t\t\t\t\t<Route path=\"/Login\" render={() => <Login />} />\r\n\t\t\t\t\t\t\t\t<Route path=\"/News\" component={News} />\r\n\t\t\t\t\t\t\t\t<Route path=\"/Music\" component={Music} />\r\n\t\t\t\t\t\t\t\t<Route path=\"/Settings\" component={Settings} />\r\n\t\t\t\t\t\t\t\t<Route path=\"/ChatPage\" render={() => <SuspendedChatPage/>}/>\r\n\t\t\t\t\t\t\t\t<Route path=\"*\" render={() => <div>404 Not Found</div>} />\r\n\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t</Layout>\r\n\t\t\t\t</Layout>\r\n\t\t\t</Layout>\r\n\t\t\t// \t\t\t<div className='app_wrapper'>\r\n\t\t\t// \t\t\t\t<HeaderContainer />\r\n\t\t\t// \t\t\t\t<Navbar />\r\n\t\t\t// \t\t\t\t<div className=\"app-wrapper-content\">\r\n\t\t\t// \t\t\t\t\t<h1> </h1>\r\n\r\n\t\t\t// \t\t\t\t\t<div className=\"backgroundBlock\">\r\n\t\t\t// \t\t\t\t\t\t<Switch>\r\n\t\t\t// \t\t\t\t\t\t\t<Route exact path=\"/\" render={() => <Redirect to={'/Profile'}/>} />\t\r\n\t\t\t// \t\t\t\t\t\t\t<Route path=\"/Dialogs\" render={() => <SuspendedDialogs/>} />\r\n\t\t\t// \t\t\t\t\t\t\t<Route path=\"/Profile/:userId?\" component={withSuspense(ProfileContainer)} />\r\n\t\t\t// \t\t\t\t\t\t\t<Route path=\"/Users\" render={() => <UsersPage pageTitle={'Samurai'} />} />\r\n\t\t\t// \t\t\t\t\t\t\t<Route path=\"/Login\" render={() => <Login/>} />\r\n\t\t\t// \t\t\t\t\t\t\t<Route path=\"/News\" component={News} />\r\n\t\t\t// \t\t\t\t\t\t\t<Route path=\"/Music\" component={Music} />\r\n\t\t\t// \t\t\t\t\t\t\t<Route path=\"/Settings\" component={Settings} />\r\n\t\t\t// \t\t\t\t\t\t\t<Route path=\"*\" render={() => <div>404 Not Found</div>}/>\r\n\t\t\t// \t\t\t\t\t\t</Switch>\r\n\t\t\t// \t\t\t\t\t</div>\r\n\r\n\t\t\t// \t\t\t\t</div>\r\n\t\t\t// \t\t\t</div>\r\n\r\n\t\t)\r\n\t}\r\n};\r\nconst mapStateToProps = (state: appStateType) => ({\r\n\tinitialized: state.app.initialized\r\n})\r\nconst AppContainer = compose<ComponentType>(\r\n\twithRouter,\r\n\tconnect(mapStateToProps, { initializeApp }))(App);\r\n\r\nconst SamuraiJSApp: React.FC = (props) => {\r\n\treturn (\r\n\t\t<BrowserRouter>\r\n\t\t\t<Provider store={store}>\r\n\t\t\t\t<AppContainer />\r\n\t\t\t</Provider>\r\n\t\t</BrowserRouter>\r\n\t)\r\n}\r\nexport default SamuraiJSApp;\r\n//types \r\ntype MapPropsType = ReturnType<typeof mapStateToProps>\r\ntype DispatchPropsType = { initializeApp: () => void }","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport SamuraiJSApp from './App';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(<SamuraiJSApp />, document.getElementById('root'));\r\n\r\nreportWebVitals();\r\n","import classes from './formsControls.module.css';\r\nimport React  from 'react';\r\nimport { Field, WrappedFieldMetaProps, WrappedFieldProps} from 'redux-form';\r\nimport { FieldValidateType } from '../../../utils/validators/validators';\r\n\r\ntype FormControlPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n}\r\n\r\nconst FormControl: React.FC<FormControlPropsType> = ({meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={classes.formControl + \" \" + (hasError ? classes.error : '')}>\r\n            {children}\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta,  ...restProps} = props;\r\n    //const {input, meta, child, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}>\r\n            <textarea {...input} {...restProps} />\r\n        </FormControl>\r\n    )\r\n}\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    //const {input, meta, child, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}>\r\n            <input {...input} {...restProps} />\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport function createField<FormKeysType extends string> (\r\n    placeholder: string | undefined, \r\n    name: FormKeysType, \r\n    component: React.FC<WrappedFieldProps>,\r\n    validate: Array<FieldValidateType> , \r\n    props = {}, \r\n    text = \"\") {\r\n        return (<div>\r\n            <Field placeholder={placeholder} \r\n            name={name} \r\n            component={component} \r\n            validate={validate} \r\n            {...props}/> {text}\r\n        </div>)  \r\n    }\r\n//types \r\nexport type GetStringKeys<T> = Extract<keyof T, string>\r\n","export default __webpack_public_path__ + \"static/media/preloader.e90508e4.svg\";","import classes from './preloader.module.css';\r\nimport preloader from '../../../assets/images/preloader.svg';\r\n\r\nlet Preloader: React.FC = () =>{\r\n    return (\r\n         <img className={classes.preloader} alt=\"preloader\" src={preloader}/>\r\n    )\r\n}\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"formsControls_formControl__33KFu\",\"error\":\"formsControls_error__1fP_d\",\"formSummaryError\":\"formsControls_formSummaryError__2stah\"};"],"sourceRoot":""}